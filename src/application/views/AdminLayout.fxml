<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0" style="-fx-background-color: #F4F7F6;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.views.AdminController">
   <children>
      <VBox spacing="20.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </padding>
         <children>
            <Label text="Tableau de Bord Administrateur" textFill="#1e293b">
               <font>
                  <Font name="System Bold" size="24.0" />
               </font>
            </Label>
            
            <TabPane styleClass="modern-tab-pane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
              <tabs>
              
                <Tab text="Vue d'ensemble">
                  <content>
                    <VBox spacing="20.0">
                       <padding>
                          <Insets top="20.0" />
                       </padding>
                       <children>
                          <GridPane hgap="20.0" vgap="20.0">
                             <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                             </columnConstraints>
                             <rowConstraints>
                                <RowConstraints minHeight="120.0" prefHeight="120.0" vgrow="SOMETIMES" />
                             </rowConstraints>
                             <children>
                                <VBox alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #0d9488, #115e59); -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(13, 148, 136, 0.3), 10, 0, 0, 5); -fx-padding: 20;">
                                   <children>
                                      <Label text="CA du Jour" textFill="#ccfbf1">
                                         <font>
                                            <Font name="System Bold" size="13.0" />
                                         </font>
                                      </Label>
                                      <Label fx:id="lblChiffreAffaires" text="0.000 TND" textFill="WHITE">
                                         <font>
                                            <Font name="System Bold" size="32.0" />
                                         </font>
                                      </Label>
                                   </children>
                                </VBox>
                                
                                <VBox alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #be123c, #9f1239); -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(190, 18, 60, 0.3), 10, 0, 0, 5); -fx-padding: 20;" GridPane.columnIndex="1">
                                   <children>
                                      <Label text="Produits Critique" textFill="#ffe4e6">
                                         <font>
                                            <Font name="System Bold" size="13.0" />
                                         </font>
                                      </Label>
                                      <Label fx:id="lblLowStock" text="0" textFill="WHITE">
                                         <font>
                                            <Font name="System Bold" size="32.0" />
                                         </font>
                                      </Label>
                                   </children>
                                </VBox>
                                
                                <VBox alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #3b82f6, #1d4ed8); -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(59, 130, 246, 0.3), 10, 0, 0, 5); -fx-padding: 20;" GridPane.columnIndex="2">
                                   <children>
                                      <Label text="Commandes en cours" textFill="#dbeafe">
                                         <font>
                                            <Font name="System Bold" size="13.0" />
                                         </font>
                                      </Label>
                                      <Label fx:id="lblPendingOrders" text="0" textFill="WHITE">
                                         <font>
                                            <Font name="System Bold" size="32.0" />
                                         </font>
                                      </Label>
                                   </children>
                                </VBox>
                             </children>
                          </GridPane>
                          
                          <VBox styleClass="card" VBox.vgrow="ALWAYS">
                             <children>
                                <Label text="Top Ventes (Produits)" textFill="#64748b">
                                   <font>
                                      <Font name="System Bold" size="14.0" />
                                   </font>
                                </Label>
                                <BarChart fx:id="chartSales" legendVisible="false" verticalGridLinesVisible="false">
                                   <xAxis>
                                      <CategoryAxis side="BOTTOM" tickLabelFill="#64748b" />
                                   </xAxis>
                                   <yAxis>
                                      <NumberAxis side="LEFT" tickLabelFill="#64748b" />
                                   </yAxis>
                                </BarChart>
                             </children>
                          </VBox>
                       </children>
                    </VBox>
                  </content>
                </Tab>
                
                <Tab text="Performance Fournisseurs">
  <content>
    <SplitPane dividerPositions="0.4" style="-fx-background-color: transparent;">
       <items>
          <VBox spacing="10.0" style="-fx-padding: 20;">
             <children>
                <Label styleClass="label-subtitle" text="1. Sélectionner un Fournisseur" />
                <TableView fx:id="tableFournisseurStats" VBox.vgrow="ALWAYS">
				  <columns>
				    <TableColumn fx:id="colF_Nom" prefWidth="150.0" text="FOURNISSEUR" />
				    <TableColumn fx:id="colF_Cmds" prefWidth="100.0" text="NB. CMDS" /> 
				    
				    <TableColumn fx:id="colF_Total" prefWidth="120.0" text="VOLUME (TND)" />
				  </columns>
				   <columnResizePolicy>
				      <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
				   </columnResizePolicy>
				</TableView>
             </children>
          </VBox>

          <VBox spacing="10.0" style="-fx-padding: 20;">
             <children>
                <Label styleClass="label-subtitle" text="2. Détails des Commandes" />
                <TableView fx:id="tableDetailsCommande" VBox.vgrow="ALWAYS">
                  <columns>
                    <TableColumn fx:id="colD_Id" prefWidth="50.0" text="ID" />
                    <TableColumn fx:id="colD_Date" prefWidth="100.0" text="DATE" />
                    <TableColumn fx:id="colD_Items" prefWidth="150.0" text="PRODUITS" />
                    <TableColumn fx:id="colD_Total" prefWidth="100.0" text="TOTAL" />
                    <TableColumn fx:id="colD_Statut" prefWidth="100.0" text="STATUT" />
                  </columns>
                  <columnResizePolicy>
                      <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                   </columnResizePolicy>
                   <placeholder>
                      <Label text="Sélectionnez un fournisseur à gauche" textFill="#94a3b8"/>
                   </placeholder>
                </TableView>
             </children>
          </VBox>
       </items>
    </SplitPane>
  </content>
</Tab>
                
              </tabs>
            </TabPane>
         </children>
      </VBox>
   </children>
</AnchorPane>
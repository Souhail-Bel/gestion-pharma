<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="680.0" prefWidth="1100.0" xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.views.AdminController"
            style="-fx-background-color: #F4F7F6;">

  <VBox AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
    <Label text="Tableau de Bord Administrateur" textFill="#00796B"
           style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-padding: 20 0 10 30;"/>

    <TabPane tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS" style="-fx-padding: 0 20 20 20;">
      <tabs>
        <Tab text="Vue Globale">
          <content>
            <VBox fx:id="globalBox" spacing="20.0" style="-fx-padding: 20;">
              <HBox spacing="20.0">
                <VBox alignment="CENTER" style="-fx-background-color: #E0F2F1; -fx-border-color: #00796B; -fx-padding: 15; -fx-border-radius: 5;" HBox.hgrow="ALWAYS">
                  <Label text="Chiffre d'Affaires" style="-fx-font-weight: bold;"/>
                  <Label fx:id="lblChiffreAffaires" text="0.00 TND" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
                <VBox alignment="CENTER" style="-fx-background-color: #E0F2F1; -fx-border-color: #00796B; -fx-padding: 15; -fx-border-radius: 5;" HBox.hgrow="ALWAYS">
                  <Label text="Stocks Bas" style="-fx-font-weight: bold;"/>
                  <Label fx:id="lblLowStock" text="0" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
                <VBox alignment="CENTER" style="-fx-background-color: #E0F2F1; -fx-border-color: #00796B; -fx-padding: 15; -fx-border-radius: 5;" HBox.hgrow="ALWAYS">
                  <Label text="Commandes en Attente" style="-fx-font-weight: bold;"/>
                  <Label fx:id="lblPendingOrders" text="0" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
              </HBox>
              <BarChart fx:id="chartSales" title="Ventes Récentes">
                <xAxis><CategoryAxis label="Date"/></xAxis>
                <yAxis><NumberAxis label="Montant"/></yAxis>
              </BarChart>
            </VBox>
          </content>
        </Tab>
        <Tab text="Gestion Fournisseurs">
          <content>
            <VBox spacing="15.0" style="-fx-padding: 20;">
              <TableView fx:id="tableGestionFournisseurs">
                <columns>
                  <TableColumn fx:id="colGestNom" text="Nom" prefWidth="180"/>
                  <TableColumn fx:id="colGestTel" text="Téléphone" prefWidth="120"/>
                  <TableColumn fx:id="colGestEmail" text="Email" prefWidth="220"/>
                  <TableColumn fx:id="colGestAdresse" text="Adresse" prefWidth="200"/>
                  <TableColumn fx:id="colGestAction" text="Actions" prefWidth="100"/>
                </columns>
              </TableView>
            </VBox>
          </content>
        </Tab>
        <Tab text="Performance Fournisseurs">
          <content>
            <VBox spacing="15.0" style="-fx-padding: 20;">
              <TableView fx:id="tableSupplierPerf">
                <columns>
                  <TableColumn fx:id="colPerfId" text="ID" prefWidth="80"/>
                  <TableColumn fx:id="colPerfNom" text="Fournisseur" prefWidth="200"/>
                  <TableColumn fx:id="colPerfOrders" text="Commandes" prefWidth="100"/>
                  <TableColumn fx:id="colPerfAmount" text="Total Achats" prefWidth="120"/>
                </columns>
              </TableView>
              <BarChart fx:id="chartPerfFournisseurs" title="Montant total par fournisseur">
                <xAxis>
                  <CategoryAxis label="Fournisseur" />
                </xAxis>
                <yAxis>
                  <NumberAxis label="Montant Total" />
                </yAxis>
              </BarChart>
            </VBox>
          </content>
        </Tab>
        <Tab text="Alertes Stock">
          <content>
            <VBox spacing="15.0" style="-fx-padding: 20;">
              <TableView fx:id="tableAlertes">
                <columns>
                  <TableColumn fx:id="colAlerteProduit" text="Produit" prefWidth="220"/>
                  <TableColumn fx:id="colAlerteQte" text="Stock" prefWidth="100"/>
                  <TableColumn fx:id="colAlerteSeuil" text="Seuil" prefWidth="100"/>
                  <TableColumn fx:id="colAlerteAction" text="Action" prefWidth="140"/>
                </columns>
              </TableView>
            </VBox>
          </content>
        </Tab>
      </tabs>
    </TabPane>
  </VBox>
</AnchorPane>